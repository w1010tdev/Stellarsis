{% extends "base.html" %}
{% block additional_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
{% endblock %}
{% block content %}
<div class="settings-layout">
    <aside class="settings-sidebar">
        <h3>设置</h3>
        <a href="{{ url_for('settings_index') }}">总览</a>
        <a href="{{ url_for('profile') }}">修改个人资料</a>
        <a href="{{ url_for('settings_images') }}" class="active">我的图片</a>
        <a href="{{ url_for('change_password') }}">修改密码</a>
        <a href="{{ url_for('settings_follows') }}">关注管理</a>
        <a href="{{ url_for('logout') }}" style="color:var(--danger-color);">退出登录</a>
    </aside>
    <section class="settings-main">
        <div class="settings-card">
            <h2>我的图片</h2>
            <p>此处列出您已上传的图片，您可以复制 Markdown 链接、插入到编辑器或删除图片。</p>
            <div style="display:flex;gap:12px;align-items:center;margin-top:12px;">
                <button id="images-upload-btn" class="btn btn-primary">上传图片</button>
                <input id="settings-images-input" type="file" accept="image/*" style="display:none;" />
            </div>
            <div id="settings-images-list" style="margin-top:16px"></div>
        </div>
    </section>
</div>
{% endblock %}
{% block scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='js/uploads.js') }}"></script>
<script>
document.addEventListener('DOMContentLoaded', function(){
    var btn = document.getElementById('images-upload-btn');
    var input = document.getElementById('settings-images-input');
    if (btn && input) {
        btn.addEventListener('click', function(){ input.click(); });
    }
});
</script>
{% endblock %}
